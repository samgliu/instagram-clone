(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{40:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),s=n(44),a=n.n(s),o=n(14),i=n(16),u=n(12),l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAA6CAMAAADPwpb5AAAC/VBMVEUAAAAjHyAjHyD///8jICAkHyQjHyAnISFAIEAjICAkJCQkICEjHyAoIiIjHyArKyskJCQlISFVVVUjICGAgIAnISEkHyEkICElHyUkHyAuLi4jICMjICEuIyMjICEpIyNAQEAoIiIjICIlICUmISEkICEjICMkISEpKSkkICAjICElHyEzMzMlIiIkICQjICEkHyEkICEkICEkICAmIiI5OTkmJiYlICIjHyAnJycmISEoKCgjHyEkICEkJCQlHyIjICIkICAkHyEjIyMjICEkICAkHyElICAkICAkHyEkHyEkISEkHyEkJCQjICEkHyAlHyIkICEkHyAnJyckICEjHyEsISEpIiIkICEjICAkISEkICAjHyMrICskICAkISEkHyAjIyMjIyMrKyskHyAkICEkISEjICEmIiIkICQmJiYrKyskHyEjIyMjHyEkICEzMzMkHyAoICgzIiItLS0jICAkISEnIyMkHyEpISEkICAmIiIjICAkHyIkIiIkICInIyMkICAkICAjICEkHyAmJiYmICYkICEkICAkHyAkICIlICAkICAkHyIjHyEjHyAkHyAlISEkICIjICEkICAmIiIkHyEkICAkICAlIiIjICAkICEjHyElIiIkICAkHyAkISEjHyEkISEkICEkJCQkJCQkISEkISEnJycjICIlICIkHyAjISEkICEkICAkICIkICEjICAkHyEkJCQjICEkHyIkHyElISEjICAjICAjHyAlICAkHyAlISErIiIkICAkHyElICIjICEjICAlHyEkHyElISEjHyEkICElICMlISEmHyMjISEkHyEkICEkICAnIiIjHyEjICEmISEjHyEjISElICAjICEkICAjICAjICEkISEjHyEmICMjISElICAmHyIkJCQmICAkICAkHyEkICIkICEkHyQjISEkICIjISEjHyEmHyMkICAkICIjICAjICAkICAwIDAkICEkICEjHyEkISEkISEjHyEkICEkICIkICAkHyEkISEjHyBS+u4fAAAA/nRSTlMA/v0B9zH8LgjvMvn2JvUGHD4D8AIn+/Ep7AtQmRbgLAQtmDA9+EhrGb7YkgVLQNHjsOqHQwkUYeYhLxPM4ipSkLd6JOmWrG9PlPNk2yPo3lqx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",j=n(0),p=n.n(j),b=n(1),d=n(26),f=n(45),m=n(11),O=n(49),h=Object(f.a)({apiKey:"AIzaSyDvSR669Bgrm258B6wxh8kfJEIBd3aR93w",authDomain:"clonewebsite-eb6e6.firebaseapp.com",databaseURL:"https://clonewebsite-eb6e6-default-rtdb.firebaseio.com",projectId:"clonewebsite-eb6e6",storageBucket:"clonewebsite-eb6e6.appspot.com",messagingSenderId:"834377877962",appId:"1:834377877962:web:658510eb0681943ea32733",measurementId:"G-7YRRRSCDTG"}),v=Object(m.g)(),x=(Object(O.a)(h),n(71)),g=n(17),I=n(28),k=n(4),C=[],y=Object(c.createContext)(C),w=function(e){var t=e.children,n=Object(c.useState)(!1),r=Object(u.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)(!0),l=Object(u.a)(o,2),j=l[0],f=l[1],O=Object(c.useState)(),h=Object(u.a)(O,2),C=h[0],w=h[1],E=Object(c.useState)(),S=Object(u.a)(E,2),A=S[0],N=S[1],H=Object(c.useState)(),D=Object(u.a)(H,2),U=D[0],M=D[1],L=Object(c.useState)(!1),P=Object(u.a)(L,2),J=P[0],z=P[1],R=Object(c.useState)(),F=Object(u.a)(R,2),Q=F[0],T=F[1],V=Object(c.useState)(),q=Object(u.a)(V,2),B=q[0],G=q[1],K=Object(c.useState)(),Y=Object(u.a)(K,2),W=Y[0],X=Y[1],Z=Object(c.useState)(),$=Object(u.a)(Z,2),_=$[0],ee=$[1],te=Object(c.useState)(),ne=Object(u.a)(te,2),ce=ne[0],re=ne[1],se=Object(c.useState)(!1),ae=Object(u.a)(se,2),oe=ae[0],ie=ae[1],ue=Object(c.useState)(),le=Object(u.a)(ue,2),je=le[0],pe=le[1],be=Object(c.useState)(),de=Object(u.a)(be,2),fe=de[0],me=de[1],Oe=Object(c.useState)(!1),he=Object(u.a)(Oe,2),ve=he[0],xe=he[1],ge=Object(c.useState)(!1),Ie=Object(u.a)(ge,2),ke=Ie[0],Ce=Ie[1],ye=Object(I.b)(),we=Object(i.f)(),Ee=Object(g.b)();function Se(){return(Se=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(g.c)(Ee,(function(e){return e?(ie(!0),!0):(ie(!1),console.log("// No user is signed in."),!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(b.a)(p.a.mark((function e(t){var n,c,r,s,a,o,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("usr",t),n=t.uid,c=Object(m.d)(v,"users","".concat(n)),e.next=5,Object(m.e)(c);case 5:return r=e.sent,s=r.data(),s.avatar,a=Object(m.c)(c,"post"),o=s.following,i=Object(m.i)(a),e.next=13,Object(m.f)(i);case 13:return u=e.sent,l=[],u.forEach(function(){var e=Object(b.a)(p.a.mark((function e(t){var n,c,r,s,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data(),e.next=3,Object(m.f)(Object(m.i)(Object(m.c)(v,t.ref.path,"comments"),Object(m.h)("timestamp","desc")));case 3:return c=e.sent,console.log("getDataFromserver docSnap",c),r=[],c.empty||(c.forEach(function(){var e=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t.data().owneruser);case 2:n=e.sent.data().avatar,c=Object(d.a)(Object(d.a)({},t.data()),{},{avatar:n}),r.push(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("commentArr",r)),s=n.owneruser,e.next=10,Object(m.e)(s);case 10:a=e.sent.data(),o=Object(d.a)(Object(d.a)({},t.data()),{},{avatar:a.avatar,uuid:a.uid,comments:r}),l.push(o);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("newarr1",l),o.forEach(function(){var e=Object(b.a)(p.a.mark((function e(t){var n,c,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t);case 2:if(n=e.sent,c=n.data(),!(r=Object(m.c)(t,"post"))){e.next=11;break}return s=Object(m.i)(r),e.next=9,Object(m.f)(s);case 9:e.sent.forEach(function(){var e=Object(b.a)(p.a.mark((function e(t){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(Object(m.i)(Object(m.c)(v,t.ref.path,"comments"),Object(m.h)("timestamp","desc")));case 2:n=e.sent,r=[],n.empty||(n.forEach(function(){var e=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(t.data().owneruser);case 2:n=e.sent.data().avatar,c=Object(d.a)(Object(d.a)({},t.data()),{},{avatar:n}),r.push(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("commentArr",r)),s=Object(d.a)(Object(d.a)({},t.data()),{},{avatar:c.avatar,uuid:c.uid,comments:r}),l.push(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee(l),console.log("newarr2",l),e.next=22,He().then(console.log("after sorted newarr",_));case 22:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function He(){return De.apply(this,arguments)}function De(){return(De=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("thearr in sortsetposts",_),_){for([],n=0;n<_.length;n++)console.log("arr[i]",_[n]);t=_.sort((function(e,t){return console.log("sortsetposts ab",e,t),console.log("compareto",e.timestamp-t.timestamp),t.timestamp-e.timestamp})),console.log("sortsetposts newarr",t),ee(t)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return Me.apply(this,arguments)}function Me(){return(Me=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(g.b)(),Object(g.c)(Ee,(function(e){e?(ie(!0),Ae(t.currentUser),G(t.currentUser.displayName),X(t.currentUser.uid),re(t.currentUser.photoURL),console.log("User is signed in",e)):(ie(!1),console.log("// No user is signed in."))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Le=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(g.b)(),Object(g.c)(n,function(){var e=Object(b.a)(p.a.mark((function e(n){var c,r,s,a,o,i,u,l,j,f,O,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=29;break}return c=function(){var e=Object(b.a)(p.a.mark((function e(t,n,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){var t=Object(d.a)(Object(d.a)({},e.data()),{},{avatar:c});n.push(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),console.log("getprofileFromserver user",n,t),r=n.displayName,s=Object(m.d)(v,"users","".concat(t)),console.log(s),e.next=8,Object(m.e)(s);case 8:return a=e.sent,o=a.data(),console.log("avatardata"+o),i=o.avatar,u=o.username,console.log("username, owner",u,r),xe(u===r),l=Object(m.c)(s,"post"),j=Object(m.i)(l),e.next=19,Object(m.f)(j);case 19:f=e.sent,h={arr:O=[]},c(f,O,i).then((function(e){console.log("after for each",e)})),h=Object(d.a)(Object(d.a)({},h),{},{avatar:i,username:u}),me(h),console.log("after processArray"),console.log(h),e.next=30;break;case 29:console.log("// No user when getting profile");case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),Le.apply(this,arguments)}function Pe(){return Pe=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(g.b)(),!n.currentUser){e.next=8;break}return e.next=5,Object(m.e)(Object(m.d)(v,"users","".concat(n.currentUser.uid)));case 5:c=e.sent,c.data().following.forEach(function(){var e=Object(b.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(n);case 2:c=e.sent,c.data().uid===t&&Ce(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Je(){return(Je=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(g.b)(),!n.currentUser){e.next=5;break}return e.next=5,Object(m.l)(Object(m.d)(v,"users","".concat(n.currentUser.uid)),{following:Object(m.b)(Object(m.d)(v,"users",t))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return(ze=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(g.b)(),!n.currentUser){e.next=5;break}return e.next=5,Object(m.l)(Object(m.d)(v,"users","".concat(n.currentUser.uid)),{following:Object(m.a)(Object(m.d)(v,"users",t))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return Re=Object(b.a)(p.a.mark((function e(t,n){var c,r,s,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(g.b)(),r=c.currentUser,s=r.uid,t,a="default",!r){e.next=11;break}return o=Object(I.c)(ye,"uploadedimages/".concat(Object(x.a)())),e.next=9,Object(I.d)(o,n).then((function(e){console.log("Uploaded a blob or file!",e),Object(I.a)(e.ref).then((function(e){console.log("File available at",e),a=e;var n=Object(x.a)();Object(m.k)(Object(m.d)(v,"users","".concat(s),"post",n),{topic:t,pic:a,timestamp:Object(m.j)(),username:r.displayName,owneruser:Object(m.d)(v,"users",s),postid:n},{merge:!0})}))}));case 9:return e.next=11,Ue();case 11:console.log("savePostToserver ",t),console.log("curuser",r),console.log("uid",r.uid),console.log("timestamp",Object(m.j)()),console.log(s);case 16:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Fe(){return(Fe=Object(b.a)(p.a.mark((function e(t,n,c){var r,s,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(g.b)(),s=r.currentUser,a=n,t,console.log("saveCommentToServer ",t,c),!s){e.next=9;break}return Object(m.k)(Object(m.d)(Object(m.c)(v,"users","".concat(a),"post","".concat(c),"comments")),{comment:t,owneruser:Object(m.d)(v,"users",r.currentUser.uid),timestamp:Object(m.j)(),username:r.currentUser.displayName},{merge:!0}),e.next=9,Ue();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t,n,c,r){return Te.apply(this,arguments)}function Te(){return Te=Object(b.a)(p.a.mark((function e(t,n,c,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.k)(Object(m.d)(v,"users","".concat(t)),{uid:t,email:n,fullname:c,username:r,avatar:s,followers:[],following:[]});case 3:G(r),console.log("Document written with ID: "),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Te.apply(this,arguments)}function Ve(){return Ve=Object(b.a)(p.a.mark((function e(t,n,c,r,s){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(g.b)(),Object(g.a)(a,t,n).then((function(e){var n=e.user,o=e.user.uid;Object(g.e)(a.currentUser,{displayName:r,photoURL:"https://firebasestorage.googleapis.com/v0/b/clonewebsite-eb6e6.appspot.com/o/avatardefault.svg?alt=media&token=acd38542-5ccb-48ff-97ee-10df1201725d"}).then((function(){})).catch((function(e){})),w(n),T(c),G(r),Qe(o,t,c,r,s)})).catch((function(e){e.code,e.message;console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}function qe(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(b.a)(p.a.mark((function e(t){var n,c,r,s,a,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(g.b)(),null===(c=n.currentUser)){e.next=18;break}return r=c.displayName,s=c.email,a=c.photoURL,c.uid,console.log("getUserinfo "+s,r,a),N(s),Ue(),T(r),re(a),o=Object(m.d)(v,"users","".concat(s)),e.next=15,Object(m.e)(o);case 15:return(i=e.sent).exists()?(console.log("Document data:",i.data()),M(i.data())):console.log("No such document!"),e.abrupt("return",i.data());case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(b.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(g.b)(),r=!1,e.next=4,Object(g.d)(c,t,n).then((function(e){var n=e.user;Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n),N(t),console.log("insubmitsignin dispayname",n.displayName),T(n.displayName),re(n.photoURL);case 5:case"end":return e.stop()}}),e)})))().then(qe(n))})).catch((function(e){e.code,e.message;console.log(e)}));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return Ye=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(g.b)(),null===n.currentUser){e.next=9;break}return c=Object(I.c)(ye,"avatars/".concat(Object(x.a)())),console.log("imgstorageRef",t),e.next=7,Object(I.d)(c,t).then((function(e){console.log("Uploaded a blob or file!",e),Object(I.a)(e.ref).then((function(e){console.log("File available at",e),Object(g.e)(n.currentUser,{photoURL:e}).then((function(){console.log("now photo: ",n.currentUser.photoURL),Object(m.k)(Object(m.d)(v,"users","".concat(n.currentUser.uid)),{avatar:n.currentUser.photoURL},{merge:!0})})).catch((function(e){}))}))}));case 7:return e.next=9,Ue();case 9:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function We(){return(We=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge("test1@test1.com","testtest");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)(y.Provider,{value:{isProfileMenuOpen:s,setIsProfileMenuOpen:a,isHomeClicked:j,setIsHomeClicked:f,onSubmitSignup:function(e,t,n,c,r){return Ve.apply(this,arguments)},onSubmitSignin:Ge,createnewUserdata:Qe,getUserinfo:qe,history:we,curemail:A,userLogout:function(){Object(g.b)().signOut(),w(null)},curuser:C,info:U,isNewpostOpen:J,setIsNewpostOpen:z,displayname:Q,imgblob:je,setImgblob:pe,savePostToserver:function(e,t){return Re.apply(this,arguments)},getDataFromserver:Ae,regetdataFromserver:Ue,posts:_,defaultLogin:function(){return We.apply(this,arguments)},profilepic:ce,isusersignedin:oe,setIsusersignedin:ie,username:B,useruid:W,getprofileFromserver:function(e){return Le.apply(this,arguments)},profiledata:fe,saveAvatartoserver:function(e){return Ye.apply(this,arguments)},isProfileowner:ve,checkLogin:function(){return Se.apply(this,arguments)},isfollowed:ke,setIsfollowed:Ce,followTarget:function(e){return Je.apply(this,arguments)},unfollowTarget:function(e){return ze.apply(this,arguments)},checkisFollowed:function(e){return Pe.apply(this,arguments)},saveCommentToServer:function(e,t,n){return Fe.apply(this,arguments)}},children:t})};var E=function(e){var t=Object(c.useContext)(y),n=t.userLogout,r=t.history,s=(t.isProfileMenuOpen,t.setIsHomeClicked),a=t.setIsProfileMenuOpen,u=t.username,l=t.useruid,j=Object(i.g)();return j.uname,j.uuid,Object(k.jsx)("div",{className:"ProfileMenu",children:Object(k.jsxs)("div",{className:"profilemenuwrapper",onClick:function(e){return function(e){e.preventDefault(),a(!1),s(!1)}(e)},children:[Object(k.jsx)("span",{className:""}),Object(k.jsx)("div",{className:"menuseparator",children:Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(u,"/").concat(l)},onClick:function(e){return function(e){e.preventDefault(),u,l,r.push("/profile/".concat(u,"/").concat(l))}(e)},children:"Profile"})}),Object(k.jsx)("div",{children:Object(k.jsx)(o.b,{to:"/signin",children:"Sign in"})}),Object(k.jsx)("div",{children:Object(k.jsx)(o.b,{to:"/signup",children:"Sign up"})}),Object(k.jsx)("div",{children:Object(k.jsx)(o.b,{to:"/signout",onClick:function(e){return function(e){e.preventDefault(),s(!1),n()}(e)},children:"Log out"})})]})})};var S=function(e){var t=e.profilepic;console.log("iconmenu",t);var n=Object(c.useContext)(y),r=n.isProfileMenuOpen,s=n.setIsProfileMenuOpen,a=n.isHomeClicked,o=n.setIsHomeClicked,i=n.isNewpostOpen,u=n.setIsNewpostOpen,l=n.history,j=n.username;function d(){return d=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){return(c=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("setIsHomeClicked();"),o(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return c.apply(this,arguments)},t.preventDefault(),console.log("homebtnonClick"),n().then(l.push("/")),s(!1),console.log("IsHomeClicked",a),console.log("history",l);case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return Object(k.jsxs)("div",{className:"iconmenu",children:[Object(k.jsx)("div",{className:"iconwrapper",children:Object(k.jsx)("a",{href:"/",tabIndex:"0",onClick:function(e){return function(e){return d.apply(this,arguments)}(e)},children:a?Object(k.jsx)("svg",{"aria-label":"Home",color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(k.jsx)("path",{d:"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z"})}):Object(k.jsx)("svg",{"aria-label":"Home",color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(k.jsx)("path",{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"})})})}),Object(k.jsx)("div",{className:"iconwrapper",children:Object(k.jsx)("a",{href:"/inbox",tabIndex:"0",onClick:function(e){return function(e){e.preventDefault(),console.log("inboxOnClick")}(e)},children:Object(k.jsx)("svg",{"aria-label":"Direct",color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(k.jsx)("path",{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"})})})}),Object(k.jsx)("div",{className:"iconwrapper",children:Object(k.jsx)("button",{className:"addpostbtn",type:"button",onClick:function(e){return function(e){e.preventDefault(),u(!i)}(e)},children:Object(k.jsx)("div",{children:Object(k.jsxs)("svg",{"aria-label":"New Post",color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:[Object(k.jsx)("path",{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"}),Object(k.jsx)("path",{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}),Object(k.jsx)("path",{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"})]})})})}),Object(k.jsx)("div",{className:"iconwrapper",children:Object(k.jsxs)("button",{className:"profilebtn",type:"button",onClick:function(e){return function(e){e.preventDefault(),s(!r)}(e)},children:[void 0===t?Object(k.jsx)("svg",{"aria-label":"Profile",color:"#262626",fill:"#262626",height:"16",role:"img",viewBox:"0 0 32 32",width:"16",children:Object(k.jsx)("path",{d:"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})}):Object(k.jsx)("img",{src:t,alt:""}),Object(k.jsx)("div",{})]})}),r?Object(k.jsx)(E,{username:j}):""]})},A=(n(64),n.p+"static/media/noimg.190fa575.svg"),N=function(){var e=Object(c.useContext)(y),t=e.isNewpostOpen,n=e.setIsNewpostOpen,r=e.displayname,s=e.setImgblob,a=e.imgblob,i=e.savePostToserver,l=(e.history,Object(c.useState)(A)),j=Object(u.a)(l,2),d=j[0],f=j[1];console.log("in Newpost displayname",r);var m="",O=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(m,a),e.next=4,i(m,a);case 4:n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:t?"newpost":"newpost newpostHidden",children:[Object(k.jsxs)("div",{className:"newpostHeader",children:[Object(k.jsx)("div",{children:"Create new post"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{to:"/",onClick:function(e){return O(e)},children:"Share"}),Object(k.jsx)("button",{type:"button",onClick:function(e){return function(e){e.preventDefault(),n(!t)}(e)},className:"closebtn",children:"\u2716"})]})]}),Object(k.jsxs)("div",{className:"postform",children:[Object(k.jsxs)("div",{className:"postimg",children:[Object(k.jsx)("img",{src:d,alt:""}),Object(k.jsx)("button",{className:"file-upload-button",onClick:function(e){return function(e){e.preventDefault(),document.getElementById("getFile").click()}(e)},children:"Select from computer"}),Object(k.jsx)("input",{type:"file",id:"getFile",onChange:function(e){return function(e){e.preventDefault(),console.log(window.URL.createObjectURL(e.target.files[0])),f(window.URL.createObjectURL(e.target.files[0])),s(e.target.files[0])}(e)},style:{display:"none"}})]}),Object(k.jsxs)("div",{className:"postinfo",children:[Object(k.jsx)("p",{children:Object(k.jsx)("strong",{children:r})}),Object(k.jsx)("div",{className:"posttext",children:Object(k.jsx)("textarea",{rows:"8",cols:"33",placeholder:"Write a caption...",onChange:function(e){return m=e.target.value},required:!0})})]})]})]})};n(65);var H=function(){var e=Object(c.useContext)(y),t=e.profilepic,n=(e.isusersignedin,e.setIsusersignedin,e.history),r=e.setIsHomeClicked,s=e.setIsProfileMenuOpen;return console.log("indeader profilepic",t),Object(k.jsxs)("div",{className:"Header",children:[Object(k.jsx)("div",{className:"Headerimgwrapper",children:Object(k.jsx)("img",{className:"Headerimg",src:l,alt:"",onClick:function(e){!function(e){e.preventDefault(),r(!0),s(!1),console.log("homebtnonClick"),n.push("/")}(e)}})}),Object(k.jsx)("div",{children:Object(k.jsx)("input",{type:"text",placeholder:"Search"})}),Object(k.jsx)(S,{profilepic:t})]})};n(66),n(40),n(67);var D=function(e){var t=e.post,n=e.setIsPostDetailOpen,r=e.isPostDetailOpen,s=Object(c.useContext)(y),a=(s.onSubmitSignin,s.getUserinfo,s.history),i=(s.isProfileMenuOpen,s.setIsProfileMenuOpen,s.getDataFromserver,s.setIsHomeClicked,s.regetdataFromserver),u=s.saveCommentToServer,l="";function j(){return(j=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===l){e.next=6;break}return e.next=4,u(l,t.uuid,t.postid);case 4:return e.next=6,i();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e,t){e.preventDefault(),a.push(t)},f=t.owneruser.path.substring(6);return console.log("in post detail ",t),Object(k.jsxs)("div",{className:"PostDetail",children:[Object(k.jsx)("div",{className:"detailImgContainer",children:Object(k.jsx)("img",{src:t.pic,alt:""})}),Object(k.jsxs)("div",{className:"commentContainer",children:[Object(k.jsxs)("div",{className:"commentHeader",children:[Object(k.jsxs)("div",{className:"avatarContainer",children:[Object(k.jsx)("img",{src:t.avatar,alt:""}),Object(k.jsx)("div",{children:Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(t.username,"/").concat(f)},onClick:function(e){return d(e,"/profile/".concat(t.username,"/").concat(f))},children:Object(k.jsx)("strong",{children:t.username})})})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{type:"button",onClick:function(e){return function(e){e.preventDefault(),n(!r)}(e)},className:"closebtn",children:"\u2716"})})]}),Object(k.jsxs)("div",{className:"commentsDisplay",children:[Object(k.jsxs)("div",{className:"singleCmt",children:[Object(k.jsxs)("div",{className:"avatarContainer",children:[Object(k.jsx)("img",{src:t.avatar,alt:""}),Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(t.username,"/").concat(f)},onClick:function(e){return d(e,"/profile/".concat(t.username,"/").concat(t.uuid))},children:Object(k.jsxs)("strong",{children:[t.username,"\xa0"]})})]}),Object(k.jsx)("div",{children:t.topic})]}),t.comments.map((function(e){console.log("commentsDisplay",e);var t=e.owneruser.path.substring(6);return Object(k.jsxs)("div",{className:"singleCmt",children:[Object(k.jsxs)("div",{className:"avatarContainer",children:[Object(k.jsx)("img",{src:e.avatar,alt:""}),Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(e.username,"/").concat(f)},onClick:function(n){return d(n,"/profile/".concat(e.username,"/").concat(t))},children:Object(k.jsxs)("strong",{children:[e.username,"\xa0"]})})]}),Object(k.jsx)("div",{children:e.comment})]},Object(x.a)())}))]}),Object(k.jsxs)("div",{className:"detailCmtContainer",children:[Object(k.jsx)("input",{type:"text",placeholder:"Add a comment...",onChange:function(e){return l=e.target.value}}),Object(k.jsx)("a",{href:"/#",onClick:function(e){return function(e){return j.apply(this,arguments)}(e)},children:"Post"})]})]})]})};var U=function(e){var t=e.topic,n=e.timestamp,r=e.pic,s=e.postid,a=e.username,i=e.avatar,u=e.useruid,l=e.comments,j=e.post,p=e.handleShowDetail,b=Object(c.useContext)(y),d=b.history,f=b.saveCommentToServer,m=function(e,t){e.preventDefault(),d.push(t)},O="";function h(e,t){e.preventDefault(),p(t)}return Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"postcontainer",children:[Object(k.jsxs)("div",{className:"authorName",children:[Object(k.jsx)("div",{className:"authorimgcontainer",children:Object(k.jsx)("img",{src:i,alt:""})}),Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(a,"/").concat(u)},onClick:function(e){return m(e,"/profile/".concat(a,"/").concat(u))},children:Object(k.jsx)("strong",{children:a})})]}),Object(k.jsx)("div",{className:"postimgcontainer",children:Object(k.jsx)(o.b,{to:"#",onClick:function(e){return h(e,j)},children:Object(k.jsx)("img",{className:"postsimg",src:r,alt:""})})}),Object(k.jsxs)("div",{className:"postscoments",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(a,"/").concat(u)},onClick:function(e){return m(e,"/profile/".concat(a,"/").concat(u))},children:Object(k.jsx)("strong",{children:a})}),"\xa0",t]}),Object(k.jsx)("div",{className:"allCommentsLink",children:Object(k.jsx)(o.b,{to:"#",onClick:function(e){return h(e,j)},children:"View all comments"})}),Object(k.jsx)("div",{className:"commentsWrapper",children:l.map((function(e){var t=e.owneruser.path.substring(6);return Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{to:{pathname:"/profile/".concat(e.username,"/").concat(t)},onClick:function(n){return m(n,"/profile/".concat(e.username,"/").concat(t))},children:Object(k.jsxs)("strong",{children:[" ",e.username]})}),"\xa0 ",e.comment]},Object(x.a)())}))}),Object(k.jsx)("div",{className:"posttime",children:n}),Object(k.jsxs)("div",{className:"postCmtContainer",children:[Object(k.jsx)("input",{type:"text",placeholder:"Add a comment...",onChange:function(e){return O=e.target.value}}),Object(k.jsx)("a",{href:"/#",onClick:function(e){return function(e){e.preventDefault(),""!==O&&f(O,u,s)}(e)},children:"Post"})]})]})]})})};var M=function(e){var t=e.handleShowDetail,n=Object(c.useContext)(y),r=(n.getDataFromserver,n.posts);return n.defaultLogin,n.isHomeClicked,n.setIsHomeClicked,Object(c.useEffect)((function(){}),[r]),console.log("in posts",r),r?Object(k.jsx)("div",{className:"posts",children:r.map((function(e){var n=e.comments;return n!==[]&&n.length>2&&(n=[n[0],n[1]]),Object(k.jsx)(U,{post:e,author:e.author,username:e.username,topic:e.topic,timestamp:e.timestamp.toDate().toString(),pic:e.pic,avatar:e.avatar,useruid:e.uuid,postid:e.postid,comments:n,handleShowDetail:function(e){return t(e)}},e.timestamp)}))}):Object(k.jsx)("div",{className:"posts",children:Object(k.jsx)("div",{children:"Error. No Posts."})})};n(68);var L=function(){var e=Object(c.useContext)(y),t=e.onSubmitSignin,n=e.getUserinfo,r=e.history,s=(e.isProfileMenuOpen,e.setIsProfileMenuOpen,e.getDataFromserver,e.setIsHomeClicked),a="",i="";function u(){return(u=Object(b.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s(!0),e.next=4,t(a,i);case 4:if(!e.sent){e.next=7;break}return e.next=7,n();case 7:r.push("/");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)("div",{className:"signup",children:Object(k.jsxs)("div",{className:"signupcontainer",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:l,alt:""})}),Object(k.jsxs)("form",{className:"sigupform",onSubmit:function(e){!function(e){u.apply(this,arguments)}(e)},children:[Object(k.jsx)("input",{className:"inputbox",type:"email",placeholder:"Email",onChange:function(e){a=e.target.value},required:!0}),Object(k.jsx)("input",{className:"inputbox",type:"password",placeholder:"Password",onChange:function(e){i=e.target.value},required:!0}),Object(k.jsx)("input",{className:"sigupformbutton",type:"submit",value:"Log in"})]}),Object(k.jsxs)("div",{style:{fontSize:"0.7em"},children:[Object(k.jsx)("p",{children:"Forgot password?"}),"(Don't use any real username & password) (test account: test1@test1.com:testtest)"]}),Object(k.jsxs)("div",{className:"bottomBox",children:["Don't have an account? ",Object(k.jsx)(o.b,{to:"/signup",children:"Sign up"})]})]})})};var P=function(){var e=Object(c.useContext)(y),t=(e.getUserinfo,e.curemail,e.curuser,e.info,e.isProfileMenuOpen,e.setIsProfileMenuOpen,e.getDataFromserver,e.regetdataFromserver),n=(e.onSubmitSignin,e.defaultLogin,e.posts),r=e.history,s=e.isusersignedin,a=(e.setIsusersignedin,e.setIsHomeClicked,e.isHomeClicked,e.checkLogin),o=Object(c.useState)(!1),i=Object(u.a)(o,2),l=i[0],j=i[1],p=Object(c.useState)(),b=Object(u.a)(p,2),d=b[0],f=b[1];return console.log("inhome posts",n),Object(c.useEffect)((function(){a(),s?t():r.push("/signin")}),[s]),void 0!==n?Object(k.jsxs)("div",{children:[Object(k.jsx)(H,{}),Object(k.jsxs)("div",{className:"Home",children:[Object(k.jsx)(N,{}),l?Object(k.jsx)(D,{post:d,setIsPostDetailOpen:j,isPostDetailOpen:l}):Object(k.jsx)("div",{}),Object(k.jsx)(M,{handleShowDetail:function(e){return t=e,j(!l),f(t),void console.log("handleShowDetail",t);var t}})]})]}):(console.log("posts is undefined"),Object(k.jsxs)("div",{children:[Object(k.jsx)(H,{}),Object(k.jsxs)("div",{className:"Home",children:[l?Object(k.jsx)(D,{post:d,setIsPostDetailOpen:j,isPostDetailOpen:l}):Object(k.jsx)("div",{}),Object(k.jsx)(N,{}),Object(k.jsx)(L,{})]})]}))};var J=function(){var e=Object(c.useContext)(y),t=e.onSubmitSignup,n=(e.createnewUserdata,e.history),r="",s="",a="",i="";function u(){return(u=Object(b.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,t(r,i,s,a,"https://firebasestorage.googleapis.com/v0/b/clonewebsite-eb6e6.appspot.com/o/avatardefault.svg?alt=media&token=acd38542-5ccb-48ff-97ee-10df1201725d");case 3:n.push("/signin");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)("div",{className:"signup",children:Object(k.jsxs)("div",{className:"signupcontainer",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:l,alt:""})}),Object(k.jsx)("div",{children:"Sign up to see photos and videos from your friends."}),Object(k.jsxs)("form",{className:"sigupform",onSubmit:function(e){!function(e){u.apply(this,arguments)}(e)},children:[Object(k.jsx)("input",{className:"inputbox",type:"email",placeholder:"Email",onChange:function(e){r=e.target.value},required:!0}),Object(k.jsx)("input",{className:"inputbox",type:"text",placeholder:"Full Name",onChange:function(e){s=e.target.value},required:!0}),Object(k.jsx)("input",{className:"inputbox",type:"text",placeholder:"User Name",onChange:function(e){a=e.target.value},required:!0}),Object(k.jsx)("input",{className:"inputbox",type:"password",placeholder:"Password",onChange:function(e){i=e.target.value},required:!0}),Object(k.jsx)("input",{className:"sigupformbutton",type:"submit",value:"Sign up"})]}),Object(k.jsx)("div",{style:{fontSize:"0.7em"},children:Object(k.jsx)("p",{children:"By signing up, you agree to our Terms , Data Policy and Cookies Policy . (Don't use any real username & password)"})}),Object(k.jsxs)("div",{className:"bottomBox",children:["Have an account? ",Object(k.jsx)(o.b,{to:"/signin",children:"Log in"})]})]})})};n(69);var z=function(e){var t=Object(c.useContext)(y),n=(t.getUserinfo,t.curemail,t.curuser,t.info,t.isProfileMenuOpen,t.setIsProfileMenuOpen,t.getDataFromserver,t.regetdataFromserver,t.onSubmitSignin,t.defaultLogin,t.posts,t.history),r=t.isusersignedin,s=(t.setIsusersignedin,t.getprofileFromserver),a=t.profiledata,o=t.setImgblob,i=t.imgblob,l=t.saveAvatartoserver,j=t.isProfileowner,d=t.isfollowed,f=(t.setIsfollowed,t.followTarget),m=t.unfollowTarget,O=t.checkisFollowed,h=Object(c.useState)(!1),v=Object(u.a)(h,2),g=(v[0],v[1],Object(c.useState)(!1)),I=Object(u.a)(g,2),C=I[0],w=I[1];console.log("inprofile",e),Object(c.useEffect)((function(){function t(){return(t=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return console.log("isusersignedin changed",r),t.next=4,s(e.uuid).then((function(){return console.log("profiledata in getprofileFromserver",a)}));case 4:return t.next=6,O(e.uuid);case 6:console.log("setIsfollowed isfollowed",d),t.next=10;break;case 9:n.push("/signin");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),console.log("isfollowed",d)}),[e,d]);var E=Object(c.useState)(),S=Object(u.a)(E,2),A=S[0],D=S[1],U=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w(!0),D(window.URL.createObjectURL(t.target.files[0])),o(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(){return(M=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),e.next=3,l(i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),t.currentTarget.disabled=!0,m(e.uuid),console.log("unfollowOnClicked targetuid: ",e.uuid),console.log("unfollowOnClicked")}(t)},children:"Unfollow"})})}function P(){return Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),t.currentTarget.disabled=!0,f(e.uuid),console.log("followOnClicked targetuid: ",e.uuid)}(t)},children:"Follow"})})}return console.log("profiledata",a),a?Object(k.jsxs)("div",{children:[Object(k.jsx)(H,{}),Object(k.jsxs)("div",{className:"Profile",children:[Object(k.jsx)(N,{}),j?(console.log("isOwnerRender"),Object(k.jsxs)("div",{className:"topprofile",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{id:"profileavatar",src:C?A:a.avatar,alt:"",title:"Change Profile Photo",onClick:function(e){return function(e){e.preventDefault(),document.getElementById("getavatarFile").click()}(e)}}),Object(k.jsx)("input",{type:"file",id:"getavatarFile",onChange:function(e){return U(e)},style:{display:"none"}}),C?Object(k.jsx)("div",{className:"saveButton",children:Object(k.jsx)("button",{onClick:function(e){return function(e){return M.apply(this,arguments)}(e)},children:"Save"})}):Object(k.jsx)("div",{})]}),Object(k.jsx)("div",{children:Object(k.jsx)("h2",{children:a.username})})]})):(console.log("notOwnerRender"),Object(k.jsxs)("div",{className:"topprofile",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{id:"profileavatar",src:C?A:a.avatar,alt:""})}),Object(k.jsx)("div",{children:Object(k.jsx)("h2",{children:a.username})}),Object(k.jsx)("div",{children:d?L():P()})]})),Object(k.jsx)("div",{className:"picturegrid",children:a.arr.map((function(e){return Object(k.jsx)("div",{className:"gridimg",children:Object(k.jsx)("img",{src:e.pic,alt:""})},Object(x.a)())}))})]})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)(H,{}),Object(k.jsx)("div",{className:"Profile",children:Object(k.jsx)(N,{})})]})},R=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)(i.c,{children:Object(k.jsxs)(w,{children:[Object(k.jsx)(i.a,{exact:!0,path:"/",render:function(e){return Object(k.jsx)(P,{})}}),Object(k.jsx)(i.a,{exact:!0,path:"/signup",component:J}),Object(k.jsx)(i.a,{exact:!0,path:"/signin",component:L}),Object(k.jsx)(i.a,{exact:!0,path:"/signout",component:L}),Object(k.jsx)(i.a,{exact:!0,path:"/profile/:username/:uuid",render:function(e){return Object(k.jsx)(z,{username:e.match.params.username,uuid:e.match.params.uuid})}})]})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(R,{})}),document.getElementById("root")),F()}},[[70,1,2]]]);
//# sourceMappingURL=main.e702479b.chunk.js.map